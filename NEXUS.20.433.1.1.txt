@0
  MOV 2 DOWN
  MOV 3 DOWN
  MOV 5 DOWN
  MOV 7 DOWN
  MOV 11 DOWN
  MOV 13 DOWN
  MOV 17 DOWN
  MOV 19 DOWN
  MOV 23 DOWN
  MOV 29 DOWN
  MOV 31 DOWN
  MOV 41 DOWN
  MOV 43 DOWN
  MOV 47 DOWN
  MOV -1 DOWN

@1
  MOV UP  ACC
  SAV
A:MOV ACC  DOWN
  SAV
  MOV DOWN ACC
  JEZ B
  JLZ C
  MOV 1    DOWN
  JMP A
B:MOV 0    DOWN
  SWP
  JMP A
C:MOV -1   DOWN

@2


@3
A:MOV UP    ACC
  SWP
B:SWP
  MOV ACC   RIGHT
#  MOV ACC   RIGHT
  SWP
  MOV RIGHT ACC
  JLZ C
  JEZ A
  JMP B
C:MOV UP    ACC
  JGZ C
# 0 -> NEXT PRIME
# 1 -> CUR  PRIME
#-1 -> RESET

@4
A:MOV LEFT  ACC
  MOV ACC   DOWN
  JLZ B
  MOV ACC   RIGHT
  MOV UP    RIGHT
  MOV RIGHT ACC
  MOV ACC   UP
  MOV ACC   DOWN
  MOV UP    LEFT
  JMP A
B:MOV UP    DOWN
  MOV -1    UP
  MOV  0    LEFT
  MOV UP    NIL
  JMP A

@5
A:MOV LEFT  RIGHT
  MOV LEFT  RIGHT
  MOV RIGHT ACC
  JEZ B
  MOV 0     LEFT
  MOV RIGHT NIL
  JMP A
B:MOV RIGHT ACC
  SUB 1
  JNZ C
  SUB 2
C:ADD 1
  MOV ACC   LEFT

@6
  MOV LEFT DOWN
  MOV LEFT ACC
A:MOV 1    DOWN
  SUB DOWN
  SWP
  ADD 1
  SWP
  JGZ A
  MOV 0    DOWN
  MOV ACC  LEFT
  SWP
  MOV ACC  LEFT
  MOV 0    ACC
  SAV

@7


@8
A:MOV UP    ACC
  JLZ B
  SWP
  MOV UP    ACC
  JEZ A
  SWP
  MOV ACC   DOWN
  SWP
  JGZ A
  MOV 0     DOWN
  JMP A
B:MOV UP    DOWN
  MOV 0     DOWN
  JMP A

@9
  # 0 -> CNT/NEXT
  #-1 -> MOD=1
  #ELS-> PRM/CUR

@10
B:MOV UP   ACC
  SWP
A:MOV UP   ACC
  JEZ B
  SWP
  MOV ACC  UP
  SWP
  JMP A
